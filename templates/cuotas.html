<!-- MÉTODO 2 COMPACTO (justo encima del teclado) -->
<div id="metodo2">
  <input type="text" id="semilla" placeholder="04:33:58">
  <button id="btnM2">▶</button>
  <span id="tiempoActual">--:--:--</span>
</div>

<style>
#metodo2{
  width:100%;
  margin-bottom:8px;
  display:flex;
  justify-content:center;
  align-items:center;
  gap:6px;
  background:#111;
  padding:4px;
  border:1px solid cyan;
  border-radius:8px;
  box-shadow:0 0 6px cyan;
  font-size:0.9em;
}
#metodo2 input{
  width:80px;
  text-align:center;
  background:#000;
  border:1px solid cyan;
  color:cyan;
  border-radius:6px;
  padding:3px;
}
#metodo2 button{
  background:cyan;
  color:#000;
  border:none;
  border-radius:6px;
  font-weight:bold;
  cursor:pointer;
  padding:3px 6px;
}
#tiempoActual{
  min-width:75px;
  color:lime;
  font-weight:bold;
  transition:all .3s;
}
</style>

<script>
(()=>{
  const intervalos=[
    {h:0,m:0,s:42},
    {h:0,m:1,s:33},
    {h:0,m:2,s:18},
    {h:0,m:2,s:49},
    {h:0,m:3,s:30}
  ];
  let tiempos=[],indexActual=0,timer=null;

  const span=document.getElementById('tiempoActual');
  const input=document.getElementById('semilla');
  const btn=document.getElementById('btnM2');

  function parseHora(str){
    const[h,m,s]=str.split(':').map(Number);
    const d=new Date();d.setHours(h,m,s,0);
    return d;
  }
  function sumar(base,{h,m,s}){
    const n=new Date(base);
    n.setSeconds(n.getSeconds()+h*3600+m*60+s);
    return n;
  }
  function fmt(d){return d.toTimeString().split(' ')[0];}

  function actualizar(titila){
    if(indexActual>=tiempos.length){span.textContent="✅";span.style.color='cyan';return;}
    span.textContent=fmt(tiempos[indexActual]);
    span.style.color=titila?(span.style.color==='red'?'lime':'red'):'lime';
  }

  function verificar(){
    const ahora=new Date();
    if(indexActual>=tiempos.length){clearInterval(timer);return;}
    const objetivo=tiempos[indexActual];
    const diff=(objetivo-ahora)/1000;
    const titila=Math.abs(diff)<=10;
    actualizar(titila);
    if(diff<=0) indexActual++;
  }

  function iniciar(){
    const val=input.value.trim();
    if(!val.match(/^\d{2}:\d{2}:\d{2}$/)){alert('Formato: HH:MM:SS');return;}
    const base=parseHora(val);
    tiempos=[base];
    for(let i=0;i<intervalos.length;i++) tiempos.push(sumar(tiempos[i],intervalos[i]));
    indexActual=1;
    clearInterval(timer);
    verificar();
    timer=setInterval(verificar,1000);
  }

  btn.addEventListener('click',iniciar);
})();
</script>
